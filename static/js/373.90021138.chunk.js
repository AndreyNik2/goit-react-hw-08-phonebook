"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[373],{9373:function(e,n,a){a.r(n),a.d(n,{default:function(){return I}});var r=a(2791),t=a(8593),o=a(9434),s=a(1771),i=a(3634),l=a(2169),c=a(4554),u=a(890),m=a(1045),d=a(4808),h=a(493),v=a(9439),p=a(4852),b=a(6151),x=a(7948),f=a.n(x),g=a(1413),Z=a(9195),j=a(2797),y=a(4695),w=a(3500),C=a(3329);var k=function(e){var n,a,t,l,c=e.contact,u=e.closeModal,m=(0,r.useState)(c.name),d=(0,v.Z)(m,2),h=d[0],p=d[1],x=(0,r.useState)(c.number),f=(0,v.Z)(x,2),k=f[0],S=f[1],T=(0,o.I0)(),q=(0,o.v9)(s.K2),z=j.Ry().shape({name:j.Z_().required(),number:j.Rx().required().positive().integer()}),I=(0,Z.cI)({resolver:(0,y.X)(z)}),_=I.register,F=I.handleSubmit,A=I.formState.errors,B=I.reset,E=c.id,K=function(e){var n=e.currentTarget,a=n.name,r=n.value;switch(a){case"name":p(r);break;case"number":S(r);break;default:console.warn("There is no such")}};return(0,C.jsxs)("form",{onSubmit:F((function(e){!function(e){console.log(e);var n=q.filter((function(n){return n.id!==e.contactId}));console.log(n),n.filter((function(n){return n.name===e.name})).length>0?alert("".concat(e.name,"  is already in contacts")):T((0,i.E_)(e))}({name:h,number:k,contactId:E}),B(),u()})),children:[(0,C.jsx)(w.Z,(0,g.Z)((0,g.Z)({},_("name")),{},{error:null===(n=A.name)||void 0===n?void 0:n.message,size:"small",label:"Name",onChange:K,value:h,type:"text",name:"name",helperText:(null===(a=A.name)||void 0===a?void 0:a.message)&&"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",sx:{mr:1},required:!0})),(0,C.jsx)(w.Z,(0,g.Z)((0,g.Z)({},_("number")),{},{error:null===(t=A.number)||void 0===t?void 0:t.message,size:"small",label:"Phone number",onChange:K,value:k,type:"tel",name:"number",helperText:(null===(l=A.number)||void 0===l?void 0:l.message)&&"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",sx:{mr:1},required:!0})),(0,C.jsx)(b.Z,{type:"submit",variant:"contained",color:"primary",children:"Edit contact"})]})},S=function(e){var n=e.contact,a=(0,r.useState)(null),t=(0,v.Z)(a,2),s=t[0],l=t[1],c=(0,o.I0)();f().setAppElement("#root");var m=function(){l(null)};return(0,C.jsxs)(p.ZP,{children:[(0,C.jsxs)(u.Z,{sx:{mr:1,width:"100px",overflowWrap:"anywhere"},variant:"subtitle1",children:[n.name,":"]}),(0,C.jsx)(u.Z,{sx:{mr:1,width:"150px",overflowWrap:"anywhere"},variant:"subtitle1",children:n.number}),(0,C.jsx)(b.Z,{sx:{mr:1},type:"button",variant:"outlined",color:"primary",onClick:function(){l(!0)},children:"Edit"}),(0,C.jsx)(b.Z,{variant:"contained",color:"primary",onClick:function(){return e=n.id,void c((0,i._f)(e));var e},type:"button",children:"Delete"}),(0,C.jsx)(f(),{isOpen:null!==s,onRequestClose:m,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},shouldCloseOnEsc:null!==s,children:(0,C.jsx)(k,{contact:n,closeModal:function(){m()}})})]})},T=function(){var e=(0,o.v9)(s.K2),n=(0,o.v9)(d.zK);return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(h.Z,{children:function(e,n){var a=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(a)})).sort((function(e,n){return e.name.localeCompare(n.name)}))}(e,n).map((function(e){return(0,C.jsx)(S,{contact:e},e.id)}))})})},q=function(){var e=(0,o.v9)(d.zK),n=(0,o.I0)();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(u.Z,{children:"Find contacts by name:"}),(0,C.jsx)(w.Z,{size:"small",label:"Filter",type:"text",value:e,onChange:function(e){n((0,d.M6)(e.currentTarget.value))}})]})};var z=function(){var e,n,a,t,l=(0,r.useState)(""),c=(0,v.Z)(l,2),u=c[0],m=c[1],d=(0,r.useState)(""),h=(0,v.Z)(d,2),p=h[0],x=h[1],f=(0,o.I0)(),k=(0,o.v9)(s.K2),S=j.Ry().shape({name:j.Z_().required(),number:j.Rx().required().positive().integer()}),T=(0,Z.cI)({resolver:(0,y.X)(S)}),q=T.register,z=T.handleSubmit,I=T.formState.errors,_=function(e){var n=e.currentTarget,a=n.name,r=n.value;switch(a){case"name":m(r);break;case"number":x(r);break;default:console.warn("There is no such")}};return(0,C.jsxs)("form",{onSubmit:z((function(e){var n;n={name:u,number:p},k.filter((function(e){return e.name===n.name})).length>0?alert("".concat(n.name,"  is already in contacts")):f((0,i.el)(n)),m(""),x("")})),children:[(0,C.jsx)(w.Z,(0,g.Z)((0,g.Z)({},q("name")),{},{error:Boolean(null===(e=I.name)||void 0===e?void 0:e.message),size:"small",label:"Name",onChange:_,value:u,type:"text",name:"name",helperText:(null===(n=I.name)||void 0===n?void 0:n.message)&&"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,sx:{mr:1}})),(0,C.jsx)(w.Z,(0,g.Z)((0,g.Z)({},q("number")),{},{error:Boolean(null===(a=I.number)||void 0===a?void 0:a.message),size:"small",label:"Phone number",onChange:_,value:p,type:"tel",name:"number",helperText:(null===(t=I.number)||void 0===t?void 0:t.message)&&"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,sx:{mr:1}})),(0,C.jsx)(b.Z,{type:"submit",variant:"contained",color:"primary",children:"Add contact"})]})};var I=function(){var e=(0,o.v9)(s.K2),n=(0,o.v9)(s.Vc),a=(0,o.I0)();return(0,r.useEffect)((function(){a((0,i.yF)())}),[a]),(0,C.jsx)("main",{children:(0,C.jsx)(l.Z,{image:m,padding:"20px",sx:{height:"100vh",marginTop:"5px"},children:(0,C.jsxs)(c.Z,{width:"1200px",margin:"0 auto",children:[(0,C.jsx)(u.Z,{variant:"h6",children:"Your contactbook"}),(0,C.jsx)(z,{}),(0,C.jsx)(u.Z,{variant:"h5",children:"Contacts"}),(0,C.jsx)(q,{}),(0,C.jsx)(t.NB,{visible:Boolean(n),height:"80",width:"80",ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]}),(0,C.jsx)(T,{}),0===e.length&&!n&&(0,C.jsx)("p",{children:"Contactlist empty. Please add contact."})]})})})}},1045:function(e,n,a){e.exports=a.p+"static/media/hexagonal-background.427812c047efcd2e614c.jpg"}}]);
//# sourceMappingURL=373.90021138.chunk.js.map