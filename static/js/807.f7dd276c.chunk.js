"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[807],{8807:function(e,n,a){a.r(n),a.d(n,{default:function(){return I}});var r=a(2791),t=a(8593),s=a(1413),o=a(9439),i=a(9195),l=a(2797),c=a(4695),u=a(9434),m=a(3634),d=a(1771),h=a(3500),p=a(6151),v=a(3329);var b=function(){var e,n,a=(0,r.useState)(""),t=(0,o.Z)(a,2),b=t[0],x=t[1],f=(0,r.useState)(""),g=(0,o.Z)(f,2),Z=g[0],j=g[1],y=(0,u.I0)(),C=(0,u.v9)(d.K2),w=l.Ry().shape({name:l.Z_().required(),number:l.Rx().required().positive().integer()}),k=(0,i.cI)({resolver:(0,c.X)(w)}),S=k.register,T=k.handleSubmit,q=k.formState.errors,z=function(e){var n=e.currentTarget,a=n.name,r=n.value;switch(a){case"name":x(r);break;case"number":j(r);break;default:console.warn("There is no such")}};return(0,v.jsxs)("form",{onSubmit:T((function(e){var n;n={name:b,number:Z},C.filter((function(e){return e.name===n.name})).length>0?alert("".concat(n.name,"  is already in contacts")):y((0,m.el)(n)),x(""),j("")})),children:[(0,v.jsx)(h.Z,(0,s.Z)((0,s.Z)({},S("name")),{},{error:null===q.name,size:"small",label:"Name",onChange:z,value:b,type:"text",name:"name",helperText:(null===(e=q.name)||void 0===e?void 0:e.message)&&"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,sx:{mr:1}})),(0,v.jsx)(h.Z,(0,s.Z)((0,s.Z)({},S("number")),{},{error:null===q.number,size:"small",label:"Phone number",onChange:z,value:Z,type:"tel",name:"number",helperText:(null===(n=q.number)||void 0===n?void 0:n.message)&&"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,sx:{mr:1}})),(0,v.jsx)(p.Z,{type:"submit",variant:"contained",color:"primary",children:"Add contact"})]})},x=a(4808),f=a(4852),g=a(890),Z=a(7948),j=a.n(Z);var y=function(e){var n,a,t,b,x=e.contact,f=e.closeModal,g=(0,r.useState)(x.name),Z=(0,o.Z)(g,2),j=Z[0],y=Z[1],C=(0,r.useState)(x.number),w=(0,o.Z)(C,2),k=w[0],S=w[1],T=(0,u.I0)(),q=(0,u.v9)(d.K2),z=l.Ry().shape({name:l.Z_().required(),number:l.Rx().required().positive().integer()}),I=(0,i.cI)({resolver:(0,c.X)(z)}),_=I.register,F=I.handleSubmit,A=I.formState.errors,E=I.reset,K=x.id,P=function(e){var n=e.currentTarget,a=n.name,r=n.value;switch(a){case"name":y(r);break;case"number":S(r);break;default:console.warn("There is no such")}};return(0,v.jsxs)("form",{onSubmit:F((function(e){!function(e){console.log(e);var n=q.filter((function(n){return n.id!==e.contactId}));console.log(n),n.filter((function(n){return n.name===e.name})).length>0?alert("".concat(e.name,"  is already in contacts")):T((0,m.E_)(e))}({name:j,number:k,contactId:K}),E(),f()})),children:[(0,v.jsx)(h.Z,(0,s.Z)((0,s.Z)({},_("name")),{},{error:null===(n=A.name)||void 0===n?void 0:n.message,size:"small",label:"Name",onChange:P,value:j,type:"text",name:"name",helperText:(null===(a=A.name)||void 0===a?void 0:a.message)&&"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",sx:{mr:1},required:!0})),(0,v.jsx)(h.Z,(0,s.Z)((0,s.Z)({},_("number")),{},{error:null===(t=A.number)||void 0===t?void 0:t.message,size:"small",label:"Phone number",onChange:P,value:k,type:"tel",name:"number",helperText:(null===(b=A.number)||void 0===b?void 0:b.message)&&"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",sx:{mr:1},required:!0})),(0,v.jsx)(p.Z,{type:"submit",variant:"contained",color:"primary",children:"Edit contact"})]})},C=function(e){var n=e.contact,a=(0,r.useState)(null),t=(0,o.Z)(a,2),s=t[0],i=t[1],l=(0,u.I0)();j().setAppElement("#root");var c=function(){i(null)};return(0,v.jsxs)(f.ZP,{children:[(0,v.jsxs)(g.Z,{sx:{mr:1},variant:"subtitle1",children:[n.name,":"]}),(0,v.jsx)(g.Z,{sx:{mr:1},variant:"subtitle1",children:n.number}),(0,v.jsx)(p.Z,{sx:{mr:1},type:"button",variant:"outlined",color:"primary",onClick:function(){i(!0)},children:"Edit"}),(0,v.jsx)(p.Z,{variant:"contained",color:"primary",onClick:function(){return e=n.id,void l((0,m._f)(e));var e},type:"button",children:"Delete"}),(0,v.jsx)(j(),{isOpen:null!==s,onRequestClose:c,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},shouldCloseOnEsc:null!==s,children:(0,v.jsx)(y,{contact:n,closeModal:function(){c()}})})]})},w=a(493),k=function(){var e=(0,u.v9)(d.K2),n=(0,u.v9)(x.zK);return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(w.Z,{children:function(e,n){var a=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(a)})).sort((function(e,n){return e.name.localeCompare(n.name)}))}(e,n).map((function(e){return(0,v.jsx)(C,{contact:e},e.id)}))})})},S=function(){var e=(0,u.v9)(x.zK),n=(0,u.I0)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(g.Z,{children:"Find contacts by name:"}),(0,v.jsx)(h.Z,{size:"small",label:"Filter",type:"text",value:e,onChange:function(e){n((0,x.M6)(e.currentTarget.value))}})]})},T=a(2169),q=a(4554),z=a(1045);var I=function(){var e=(0,u.v9)(d.K2),n=(0,u.v9)(d.Vc),a=(0,u.I0)();return(0,r.useEffect)((function(){a((0,m.yF)())}),[a]),(0,v.jsx)("main",{children:(0,v.jsx)(T.Z,{image:z,padding:"20px",sx:{height:"100vh",marginTop:"5px"},children:(0,v.jsxs)(q.Z,{width:"1200px",margin:"0 auto",children:[(0,v.jsx)(g.Z,{variant:"h6",children:"Your contactbook"}),(0,v.jsx)(b,{}),(0,v.jsx)(g.Z,{variant:"h5",children:"Contacts"}),(0,v.jsx)(S,{}),(0,v.jsx)(t.NB,{visible:Boolean(n),height:"80",width:"80",ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]}),(0,v.jsx)(k,{}),0===e.length&&!n&&(0,v.jsx)("p",{children:"Contactlist empty. Please add contact."})]})})})}},1045:function(e,n,a){e.exports=a.p+"static/media/hexagonal-background.427812c047efcd2e614c.jpg"}}]);
//# sourceMappingURL=807.f7dd276c.chunk.js.map